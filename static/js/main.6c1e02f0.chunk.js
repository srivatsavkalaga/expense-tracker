(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(48)},21:function(e,t,a){},22:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(12),r=a.n(c),s=(a(21),a(1)),i=(a(22),a(6));var o=function(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(()=>{const e=localStorage.getItem("tripData");return e&&JSON.parse(e).participants||[]}),[r,o]=Object(n.useState)(()=>{const e=localStorage.getItem("tripData");return e&&JSON.parse(e).events||[]}),[m,p]=Object(n.useState)({eventName:"",eventExpense:"",eventPayee:"",eventParticipants:[]});Object(n.useEffect)(()=>{const e=localStorage.getItem("tripData");if(e){const t=JSON.parse(e);c(t.participants||[]),o(t.events||[])}},[]),Object(n.useEffect)(()=>{const e={participants:a,events:r};localStorage.setItem("tripData",JSON.stringify(e))},[a,r]);const u=e=>{const{name:t,value:a}=e.target;p(e=>Object(s.a)(Object(s.a)({},e),{},{[t]:a}))},b=(()=>{const e={};return a.forEach(t=>e[t]=0),r.forEach(t=>{const a=parseFloat(t.eventExpense),n=t.eventPayee,l=t.eventParticipants||[];if(!Number.isFinite(a)||a<=0)return;if(!n||0===l.length)return;n in e||(e[n]=0),l.forEach(t=>{t in e||(e[t]=0)});const c=a/l.length;l.forEach(t=>{e[t]-=c}),e[n]+=a}),e})(),v=(()=>{const e={};return r.forEach(t=>{const a=parseFloat(t.eventExpense),n=t.eventPayee,l=t.eventParticipants||[];if(!Number.isFinite(a)||a<=0)return;if(!n||0===l.length)return;const c=a/l.length;l.forEach(t=>{t!==n&&(e[t]||(e[t]={}),e[t][n]=(e[t][n]||0)+c)})}),e})();return l.a.createElement("div",{className:"p-4"},l.a.createElement("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to reset everything?")&&(c([]),o([]),localStorage.removeItem("participants"),localStorage.removeItem("events"))},className:"bg-red-700 text-white px-4 py-2 rounded mb-4"},"\ud83d\udd04 Master Reset (New Trip)"),l.a.createElement("h2",{className:"text-xl mb-2"},"Add Participants"),l.a.createElement("input",{type:"text",name:"Participant",placeholder:"Participant name",value:e,onChange:e=>t(e.target.value),className:"border p-2 mb-2 block w-full"}),l.a.createElement("button",{type:"button",onClick:()=>{e.trim()&&(a.includes(e)||c(t=>[...t,e]),t(""))},className:"bg-blue-500 text-white px-4 py-2 rounded"},"Add Participant"),l.a.createElement("button",{type:"button",onClick:()=>{c([])},className:"bg-red-500 text-white px-4 py-2 rounded ml-2"},"Clear Participants"),l.a.createElement("h2",{className:"text-xl mt-4"},"Trip Participants"),l.a.createElement("ul",{className:"list-disc pl-6 mb-6"},a.map((e,t)=>l.a.createElement("li",{key:t},e))),l.a.createElement("h2",{className:"text-xl mb-2"},"Add Event"),l.a.createElement("input",{type:"text",name:"eventName",value:m.eventName,onChange:u,placeholder:"Event name",className:"border p-2 mb-2 block w-full"}),l.a.createElement("input",{type:"number",name:"eventExpense",value:m.eventExpense,onChange:u,placeholder:"Expense amount",className:"border p-2 mb-2 block w-full",min:"0",step:"0.01"}),l.a.createElement("label",{className:"block mb-2"},"Who Paid?"),l.a.createElement(i.a,{isClearable:!0,options:a.map(e=>({value:e,label:e})),value:m.eventPayee?{value:m.eventPayee,label:m.eventPayee}:null,onChange:e=>p(t=>Object(s.a)(Object(s.a)({},t),{},{eventPayee:e?e.value:""})),className:"mb-4"}),l.a.createElement("label",{className:"block mb-2"},"Select Participants:"),l.a.createElement(i.a,{isMulti:!0,options:a.map(e=>({value:e,label:e})),value:m.eventParticipants.map(e=>({value:e,label:e})),onChange:e=>{const t=e?e.map(e=>e.value):[];p(e=>Object(s.a)(Object(s.a)({},e),{},{eventParticipants:t}))},className:"mb-4"}),l.a.createElement("button",{onClick:()=>{m.eventName&&m.eventExpense&&m.eventPayee?(o(e=>[...e,m]),p({eventName:"",eventExpense:"",eventPayee:"",eventParticipants:[]})):alert("Please fill all fields")},className:"bg-green-500 text-white px-4 py-2 rounded"},"Add Event"),l.a.createElement("h2",{className:"text-xl mt-6"},"Events List"),l.a.createElement("ul",{className:"list-disc pl-6"},r.map((e,t)=>l.a.createElement("li",{key:t,className:"mb-2"},l.a.createElement("strong",null,e.eventName)," \u2014 \u20b9",e.eventExpense," (paid by"," ",e.eventPayee,") ",l.a.createElement("br",null),"Participants:"," ",e.eventParticipants.length>0?e.eventParticipants.join(", "):"No participants",l.a.createElement("button",{onClick:()=>(e=>{o(t=>t.filter((t,a)=>a!==e))})(t),className:"ml-4 bg-red-500 text-white px-2 py-1 rounded"},"Delete")))),l.a.createElement("h2",{className:"text-xl mt-6"},"Final Balances"),l.a.createElement("ul",{className:"list-disc pl-6"},Object.entries(b).map(e=>{let[t,a]=e;return l.a.createElement("li",{key:t},t,":"," ",a>0?"should receive \u20b9".concat(a.toFixed(2)):a<0?"owes \u20b9".concat((-a).toFixed(2)):"No Balance")})),l.a.createElement("h2",{className:"text-xl mt-6"},"Who Owes Whom"),l.a.createElement("ul",{className:"list-disc pl-6"},0===Object.keys(v).length?l.a.createElement("li",null,"No Transactions \ud83c\udf89"):Object.entries(v).flatMap(e=>{let[t,a]=e;return Object.entries(a).map(e=>{let[a,n]=e;return l.a.createElement("li",{key:"".concat(t,"->").concat(a)},t," owes ",a," \u20b9",n.toFixed(2))})})))};var m=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,49)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o,null))),m()}},[[13,1,2]]]);
//# sourceMappingURL=main.6c1e02f0.chunk.js.map